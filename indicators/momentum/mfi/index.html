
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Ruby wrapper for TA-Lib - 200+ Technical Analysis Indicators">
      
      
        <meta name="author" content="Dewayne VanHoozer">
      
      
        <link rel="canonical" href="https://madbomber.github.io/sqa-tai/indicators/momentum/mfi/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>MFI (Money Flow Index) - SQA TAI - Technical Analysis Indicators</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mfi-money-flow-index" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="SQA TAI - Technical Analysis Indicators" class="md-header__button md-logo" aria-label="SQA TAI - Technical Analysis Indicators" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SQA TAI - Technical Analysis Indicators
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MFI (Money Flow Index)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/MadBomber/sqa-tai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    madbomber/sqa-tai
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting-started/installation/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Indicators

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../api-reference/" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../examples/trend-analysis/" class="md-tabs__link">
          
  
  
    
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="SQA TAI - Technical Analysis Indicators" class="md-nav__button md-logo" aria-label="SQA TAI - Technical Analysis Indicators" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SQA TAI - Technical Analysis Indicators
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MadBomber/sqa-tai" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    madbomber/sqa-tai
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/basic-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Help System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Indicators
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Indicators
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Overlap Studies
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Overlap Studies
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overlap/sma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Simple Moving Average
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overlap/ema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exponential Moving Average
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overlap/wma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Weighted Moving Average
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overlap/bbands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bollinger Bands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Momentum
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Momentum
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rsi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RSI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MACD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stoch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stochastic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Momentum
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volatility
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volatility
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../volatility/atr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Average True Range
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../volatility/trange/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    True Range
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Volume
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Volume
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../volume/obv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    On Balance Volume
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../volume/ad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chaikin A/D Line
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../patterns/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Patterns
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Patterns
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/cdl_doji/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Doji
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/cdl_hammer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hammer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/cdl_engulfing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Engulfing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/trend-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Trend Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/momentum-trading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Momentum Trading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/volatility-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Volatility Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Details
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Usage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-custom-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        With Custom Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-the-indicator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding the Indicator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding the Indicator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-it-measures" class="md-nav__link">
    <span class="md-ellipsis">
      
        What It Measures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculation-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Calculation Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indicator-characteristics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indicator Characteristics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpretation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interpretation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interpretation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-ranges" class="md-nav__link">
    <span class="md-ellipsis">
      
        Value Ranges
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-levels" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Levels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signal-interpretation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signal Interpretation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trading-signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trading Signals
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trading Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buy-signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Buy Signals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sell-signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sell Signals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#divergence-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Divergence Analysis
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optimal-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimal Use Cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-with-other-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining with Other Indicators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-pitfalls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Pitfalls
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-selection-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Selection Guidelines
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Indicators
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Related Indicators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#similar-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Similar Indicators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complementary-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complementary Indicators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indicator-family" class="md-nav__link">
    <span class="md-ellipsis">
      
        Indicator Family
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Topics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multi-timeframe-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Timeframe Analysis
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#market-regime-adaptation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Market Regime Adaptation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistical-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statistical Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/MadBomber/sqa-tai/edit/main/docs/indicators/momentum/mfi.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/MadBomber/sqa-tai/raw/main/docs/indicators/momentum/mfi.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="mfi-money-flow-index">MFI (Money Flow Index)<a class="headerlink" href="#mfi-money-flow-index" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The Money Flow Index (MFI) is a momentum oscillator that incorporates both price and volume data to measure buying and selling pressure. Often called "volume-weighted RSI," MFI oscillates between 0 and 100 and uses typical price and volume to identify overbought and oversold conditions. Developed by Gene Quong and Avrum Soudack, MFI is particularly effective for spotting potential reversals when price and volume diverge.</p>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>high</code></td>
<td>Array</td>
<td>Required</td>
<td>Array of high prices</td>
</tr>
<tr>
<td><code>low</code></td>
<td>Array</td>
<td>Required</td>
<td>Array of low prices</td>
</tr>
<tr>
<td><code>close</code></td>
<td>Array</td>
<td>Required</td>
<td>Array of close prices</td>
</tr>
<tr>
<td><code>volume</code></td>
<td>Array</td>
<td>Required</td>
<td>Array of volume values</td>
</tr>
<tr>
<td><code>period</code></td>
<td>Integer</td>
<td>14</td>
<td>Number of periods for MFI calculation</td>
</tr>
</tbody>
</table>
<h3 id="parameter-details">Parameter Details<a class="headerlink" href="#parameter-details" title="Permanent link">&para;</a></h3>
<p><strong>Note</strong>: Array elements should be ordered from oldest to newest (chronological order)</p>
<p><strong>high, low, close</strong>
- Complete OHLC data required for typical price calculation
- Arrays must all be of equal length
- Typical Price = (High + Low + Close) / 3
- Works on any timeframe with volume data</p>
<p><strong>volume</strong>
- Must correspond to same timeframe as price data
- Can be actual volume, tick volume, or other volume measures
- Higher volume gives more weight to price movements
- Essential for MFI calculationâ€”cannot be omitted</p>
<p><strong>period</strong> (time_period)
- Standard setting is 14 periods (similar to RSI)
- Shorter periods (7-10) create more sensitive indicator with more signals
- Longer periods (20-25) create smoother indicator with fewer, more reliable signals
- Recommended ranges:
  - <strong>Day trading</strong>: 7-10 periods for quick signals
  - <strong>Swing trading</strong>: 14 periods (standard)
  - <strong>Position trading</strong>: 20-25 periods for major reversals</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<h3 id="basic-usage">Basic Usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h3>
<div class="language-ruby highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">require</span><span class="w"> </span><span class="s1">&#39;sqa/tai&#39;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="o">[</span><span class="mi">48</span><span class="o">.</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">72</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">82</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">05</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">35</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">          </span><span class="mi">49</span><span class="o">.</span><span class="mi">92</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">          </span><span class="mi">50</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">30</span><span class="o">]</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="o">[</span><span class="mi">47</span><span class="o">.</span><span class="mi">79</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">39</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">37</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">03</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">          </span><span class="mi">49</span><span class="o">.</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">          </span><span class="mi">49</span><span class="o">.</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">40</span><span class="o">]</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">close</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="o">[</span><span class="mi">48</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">61</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">63</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">74</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">03</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">07</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">32</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">          </span><span class="mi">49</span><span class="o">.</span><span class="mi">91</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">45</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">60</span><span class="p">,</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">          </span><span class="mi">49</span><span class="o">.</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="o">]</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="n">volume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">2800</span><span class="p">,</span><span class="w"> </span><span class="mi">3200</span><span class="p">,</span><span class="w"> </span><span class="mi">3100</span><span class="p">,</span><span class="w"> </span><span class="mi">2900</span><span class="p">,</span><span class="w"> </span><span class="mi">3400</span><span class="p">,</span><span class="w"> </span><span class="mi">3800</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="mi">4100</span><span class="p">,</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">          </span><span class="mi">4500</span><span class="p">,</span><span class="w"> </span><span class="mi">4800</span><span class="p">,</span><span class="w"> </span><span class="mi">3900</span><span class="p">,</span><span class="w"> </span><span class="mi">3500</span><span class="p">,</span><span class="w"> </span><span class="mi">3200</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w"> </span><span class="mi">3300</span><span class="p">,</span><span class="w"> </span><span class="mi">3700</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">          </span><span class="mi">4000</span><span class="p">,</span><span class="w"> </span><span class="mi">4200</span><span class="o">]</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="c1"># Calculate 14-period MFI (standard)</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="n">mfi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SQA</span><span class="o">::</span><span class="no">TAI</span><span class="o">.</span><span class="n">mfi</span><span class="p">(</span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="ss">period</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Current MFI: </span><span class="si">#{</span><span class="n">mfi</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<h3 id="with-custom-parameters">With Custom Parameters<a class="headerlink" href="#with-custom-parameters" title="Permanent link">&para;</a></h3>
<div class="language-ruby highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># More sensitive 10-period MFI</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">mfi_fast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SQA</span><span class="o">::</span><span class="no">TAI</span><span class="o">.</span><span class="n">mfi</span><span class="p">(</span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="ss">period</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Smoother 20-period MFI</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">mfi_slow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SQA</span><span class="o">::</span><span class="no">TAI</span><span class="o">.</span><span class="n">mfi</span><span class="p">(</span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="ss">period</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Fast MFI (10): </span><span class="si">#{</span><span class="n">mfi_fast</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Standard MFI (14): </span><span class="si">#{</span><span class="n">mfi</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Slow MFI (20): </span><span class="si">#{</span><span class="n">mfi_slow</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<h2 id="understanding-the-indicator">Understanding the Indicator<a class="headerlink" href="#understanding-the-indicator" title="Permanent link">&para;</a></h2>
<h3 id="what-it-measures">What It Measures<a class="headerlink" href="#what-it-measures" title="Permanent link">&para;</a></h3>
<p>The MFI measures the flow of money into and out of a security over a specified period:</p>
<ul>
<li><strong>Buying Pressure</strong>: How much volume is associated with price increases</li>
<li><strong>Selling Pressure</strong>: How much volume is associated with price decreases</li>
<li><strong>Volume-Weighted Momentum</strong>: Combines price momentum with volume strength</li>
<li><strong>Money Flow Ratio</strong>: Ratio of positive money flow to negative money flow</li>
</ul>
<p>MFI answers the question: "Is the current price move supported by strong volume, or is it weak and likely to reverse?"</p>
<h3 id="calculation-method">Calculation Method<a class="headerlink" href="#calculation-method" title="Permanent link">&para;</a></h3>
<p>MFI calculation involves several steps combining price and volume:</p>
<ol>
<li><strong>Calculate Typical Price</strong>: (High + Low + Close) / 3</li>
<li><strong>Calculate Raw Money Flow</strong>: Typical Price Ã— Volume</li>
<li><strong>Identify Positive and Negative Money Flow</strong>: Compare current to previous typical price</li>
<li><strong>Sum Positive and Negative Money Flow</strong>: Over the specified period</li>
<li><strong>Calculate Money Flow Ratio</strong>: Positive Money Flow / Negative Money Flow</li>
<li><strong>Calculate MFI</strong>: 100 - (100 / (1 + Money Flow Ratio))</li>
</ol>
<p><strong>Formula:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Typical Price = (High + Low + Close) / 3
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Raw Money Flow = Typical Price Ã— Volume
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>If Typical Price &gt; Previous Typical Price:
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>  Positive Money Flow += Raw Money Flow
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>Else:
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>  Negative Money Flow += Raw Money Flow
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>Money Flow Ratio = (Sum of Positive Money Flow over period) /
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>                   (Sum of Negative Money Flow over period)
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>MFI = 100 - (100 / (1 + Money Flow Ratio))
</span></code></pre></div></p>
<h3 id="indicator-characteristics">Indicator Characteristics<a class="headerlink" href="#indicator-characteristics" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Range</strong>: 0 to 100 (bounded oscillator)</li>
<li><strong>Type</strong>: Volume-weighted momentum oscillator</li>
<li><strong>Lag</strong>: Moderate (similar to RSI but volume-weighted)</li>
<li><strong>Best Used</strong>: Identifying overbought/oversold with volume confirmation, spotting divergences</li>
<li><strong>Limitations</strong>: Requires volume data; less effective in low-volume environments</li>
</ul>
<h2 id="interpretation">Interpretation<a class="headerlink" href="#interpretation" title="Permanent link">&para;</a></h2>
<h3 id="value-ranges">Value Ranges<a class="headerlink" href="#value-ranges" title="Permanent link">&para;</a></h3>
<p>Specific guidance on what different MFI values indicate:</p>
<ul>
<li><strong>80-100</strong>: Overbought zone. Strong buying pressure but may be excessive. Price vulnerable to pullback, especially if volume is declining.</li>
<li><strong>50-80</strong>: Bullish momentum zone. Healthy buying pressure with good volume support. Uptrend likely to continue.</li>
<li><strong>20-50</strong>: Bearish momentum zone. Selling pressure present with volume confirmation. Downtrend may continue.</li>
<li><strong>0-20</strong>: Oversold zone. Strong selling pressure but may be excessive. Price vulnerable to bounce, especially if volume is declining.</li>
</ul>
<h3 id="key-levels">Key Levels<a class="headerlink" href="#key-levels" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Overbought (80)</strong>: High buying pressure. When MFI crosses above 80, market may be overextended. Look for failure to stay above 80 as reversal signal.</li>
<li><strong>Oversold (20)</strong>: High selling pressure. When MFI crosses below 20, market may be oversold. Look for MFI crossing back above 20 as reversal signal.</li>
<li><strong>Midpoint (50)</strong>: Equilibrium between buying and selling pressure. MFI crossing above 50 suggests bullish bias; below 50 suggests bearish bias.</li>
<li><strong>Extreme Levels (90+/10-)</strong>: Very rare and indicate extreme conditions. Usually precede sharp reversals.</li>
</ul>
<p><strong>Important</strong>: MFI overbought/oversold can persist during strong trends. In strong uptrends, MFI often stays between 40-80. In strong downtrends, MFI often stays between 20-60.</p>
<h3 id="signal-interpretation">Signal Interpretation<a class="headerlink" href="#signal-interpretation" title="Permanent link">&para;</a></h3>
<p>How to read MFI signals:</p>
<ol>
<li><strong>Volume Confirmation</strong></li>
<li>MFI rising with RSI: Volume confirms price move (strong signal)</li>
<li>MFI falling while RSI rising: Price move lacks volume support (weak signal)</li>
<li>
<p>MFI diverging from price: Volume-price imbalance suggests reversal</p>
</li>
<li>
<p><strong>Momentum Changes</strong></p>
</li>
<li>MFI crossing above 50: Buying pressure gaining control</li>
<li>MFI crossing below 50: Selling pressure gaining control</li>
<li>
<p>MFI flattening at extremes: Momentum stabilizing, potential reversal</p>
</li>
<li>
<p><strong>Trend Quality</strong></p>
</li>
<li>Strong uptrend: MFI consistently above 50, rarely below 40</li>
<li>Strong downtrend: MFI consistently below 50, rarely above 60</li>
<li>Ranging market: MFI oscillating between 30-70</li>
</ol>
<h2 id="trading-signals">Trading Signals<a class="headerlink" href="#trading-signals" title="Permanent link">&para;</a></h2>
<h3 id="buy-signals">Buy Signals<a class="headerlink" href="#buy-signals" title="Permanent link">&para;</a></h3>
<p>Specific conditions that generate buy signals:</p>
<ol>
<li><strong>Primary Signal</strong>: MFI crosses below 20 then rises back above 20</li>
<li>Confirms oversold condition ending with volume support</li>
<li>
<p>Best when combined with price support level</p>
</li>
<li>
<p><strong>Confirmation Signal</strong>: MFI crosses above 50 from below</p>
</li>
<li>Indicates shift from selling to buying pressure</li>
<li>
<p>Volume-confirmed momentum change</p>
</li>
<li>
<p><strong>Divergence Signal</strong>: Price makes lower low, MFI makes higher low</p>
</li>
<li>Bullish divergence with volume showing strength</li>
<li>Strongest when MFI is below 30</li>
</ol>
<p><strong>Example Scenario:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>When MFI drops below 20 (oversold with high selling volume),
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>then crosses back above 20, consider long positions. Confirm with:
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>- Price finding support at key level
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>- Volume declining during selloff
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>- RSI also oversold for double confirmation
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>- Set stop loss below recent low
</span></code></pre></div></p>
<h3 id="sell-signals">Sell Signals<a class="headerlink" href="#sell-signals" title="Permanent link">&para;</a></h3>
<p>Specific conditions that generate sell signals:</p>
<ol>
<li><strong>Primary Signal</strong>: MFI crosses above 80 then falls back below 80</li>
<li>Confirms overbought condition ending</li>
<li>
<p>Best when combined with price resistance level</p>
</li>
<li>
<p><strong>Confirmation Signal</strong>: MFI crosses below 50 from above</p>
</li>
<li>Indicates shift from buying to selling pressure</li>
<li>
<p>Volume-confirmed momentum change</p>
</li>
<li>
<p><strong>Divergence Signal</strong>: Price makes higher high, MFI makes lower high</p>
</li>
<li>Bearish divergence showing volume weakness</li>
<li>Strongest when MFI is above 70</li>
</ol>
<p><strong>Example Scenario:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>When MFI rises above 80 (overbought with high buying volume),
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>then crosses back below 80, consider closing longs or shorting. Confirm with:
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>- Price reaching resistance level
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>- Volume declining during rally
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>- RSI also overbought for double confirmation
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>- Set stop loss above recent high
</span></code></pre></div></p>
<h3 id="divergence-analysis">Divergence Analysis<a class="headerlink" href="#divergence-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Bullish Divergence:</strong>
- <strong>Pattern</strong>: Price makes lower low, MFI makes higher low
- <strong>Identification</strong>: Compare price lows with MFI lows over 20-40 bars
- <strong>Significance</strong>: Selling pressure weakening despite lower prices (volume drying up on decline)
- <strong>Reliability</strong>: Very high when MFI is below 30 and forms clear higher low
- <strong>Example</strong>: Stock drops from $50 to $45, then to $43. MFI drops to 18, then only to 25 on second low. Selling exhaustion likely.</p>
<p><strong>Bearish Divergence:</strong>
- <strong>Pattern</strong>: Price makes higher high, MFI makes lower high
- <strong>Identification</strong>: Compare price highs with MFI highs over 20-40 bars
- <strong>Significance</strong>: Buying pressure weakening despite higher prices (volume drying up on rally)
- <strong>Reliability</strong>: Very high when MFI is above 70 and forms clear lower high
- <strong>Example</strong>: Stock rises from $50 to $55, then to $57. MFI rises to 85, then only to 78 on second high. Buying exhaustion likely.</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="optimal-use-cases">Optimal Use Cases<a class="headerlink" href="#optimal-use-cases" title="Permanent link">&para;</a></h3>
<p>When MFI works best:</p>
<ul>
<li><strong>Market conditions</strong>: Most effective in liquid markets with consistent volume. Less reliable in illiquid or low-volume stocks. Works best when volume patterns are meaningful.</li>
<li><strong>Time frames</strong>: Excellent on daily and 4-hour charts. Less reliable on very short timeframes where volume can be erratic. Weekly charts provide strongest signals.</li>
<li><strong>Asset classes</strong>: Outstanding for stocks with good volume. Works well for forex (with tick volume), commodities, and liquid cryptocurrencies. Avoid for low-volume securities.</li>
</ul>
<h3 id="combining-with-other-indicators">Combining with Other Indicators<a class="headerlink" href="#combining-with-other-indicators" title="Permanent link">&para;</a></h3>
<p>Recommended indicator combinations:</p>
<ul>
<li>
<p><strong>With RSI</strong>: Compare MFI and RSI to assess volume strength. When both are overbought/oversold, signal is very strong. When they diverge, MFI shows true strength (volume-weighted).</p>
</li>
<li>
<p><strong>With Price Action</strong>: MFI divergences at support/resistance are most powerful. MFI oversold at support = strong buy. MFI overbought at resistance = strong sell.</p>
</li>
<li>
<p><strong>With Trend Indicators</strong>: Use moving averages or ADX to identify trend. Only take MFI oversold signals in uptrends, MFI overbought signals in downtrends for highest probability.</p>
</li>
</ul>
<h3 id="common-pitfalls">Common Pitfalls<a class="headerlink" href="#common-pitfalls" title="Permanent link">&para;</a></h3>
<p>What to avoid:</p>
<ol>
<li>
<p><strong>Ignoring the Trend</strong>: Taking MFI overbought signals in strong uptrends leads to early exits. In strong trends, MFI can stay overbought/oversold for extended periods. Always confirm trend first.</p>
</li>
<li>
<p><strong>Trading Without Volume Context</strong>: MFI depends on volume quality. In stocks with manipulated or irregular volume, MFI gives false signals. Ensure volume patterns are legitimate.</p>
</li>
<li>
<p><strong>Over-reliance on Levels</strong>: Using only 80/20 levels without considering divergences, trend, and support/resistance misses the full picture. MFI is most powerful with divergence analysis.</p>
</li>
<li>
<p><strong>Comparing Different Volume Types</strong>: Don't compare MFI values across assets with different volume characteristics (e.g., stocks vs forex tick volume). Calibrate thresholds for each market.</p>
</li>
</ol>
<h3 id="parameter-selection-guidelines">Parameter Selection Guidelines<a class="headerlink" href="#parameter-selection-guidelines" title="Permanent link">&para;</a></h3>
<p>How to choose optimal parameters:</p>
<ul>
<li><strong>Short-term trading (day trading)</strong>:</li>
<li>Period: 7-10 for faster signals</li>
<li>Thresholds: 80/20 or 85/15</li>
<li>
<p>Focus: Quick reversals with volume confirmation</p>
</li>
<li>
<p><strong>Medium-term trading (swing trading)</strong>:</p>
</li>
<li>Period: 14 (standard)</li>
<li>Thresholds: 80/20 (traditional)</li>
<li>
<p>Focus: Multi-day moves, volume-confirmed divergences</p>
</li>
<li>
<p><strong>Long-term trading (position trading)</strong>:</p>
</li>
<li>Period: 20-25 for major reversals</li>
<li>Thresholds: 75/25 or 70/30 (wider range)</li>
<li>
<p>Focus: Monthly timeframe, major volume shifts</p>
</li>
<li>
<p><strong>Backtesting approach</strong>: Test MFI period and thresholds on historical data for your specific asset. Find levels where MFI extremes historically preceded reversals with good volume.</p>
</li>
</ul>
<h2 id="practical-example">Practical Example<a class="headerlink" href="#practical-example" title="Permanent link">&para;</a></h2>
<p>Complete trading example with context:</p>
<div class="language-ruby highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">require</span><span class="w"> </span><span class="s1">&#39;sqa/tai&#39;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># Historical OHLCV data</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">high_prices</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="o">[</span><span class="mi">48</span><span class="o">.</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">92</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">80</span><span class="p">,</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">                 </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">50</span><span class="p">,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">                 </span><span class="mi">51</span><span class="o">.</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">50</span><span class="o">]</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="n">low_prices</span><span class="w"> </span><span class="o">=</span><span class="w">    </span><span class="o">[</span><span class="mi">47</span><span class="o">.</span><span class="mi">79</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">39</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">87</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">                 </span><span class="mi">49</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">40</span><span class="p">,</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">                 </span><span class="mi">50</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">60</span><span class="o">]</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">close_prices</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="o">[</span><span class="mi">48</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mo">07</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">91</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">53</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="o">.</span><span class="mi">45</span><span class="p">,</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">                 </span><span class="mi">49</span><span class="o">.</span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">51</span><span class="o">.</span><span class="mi">40</span><span class="p">,</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">                 </span><span class="mi">51</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="o">.</span><span class="mi">40</span><span class="o">]</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="n">volume_data</span><span class="w"> </span><span class="o">=</span><span class="w">   </span><span class="o">[</span><span class="mi">2800</span><span class="p">,</span><span class="w"> </span><span class="mi">3100</span><span class="p">,</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="mi">4500</span><span class="p">,</span><span class="w"> </span><span class="mi">4800</span><span class="p">,</span><span class="w"> </span><span class="mi">3900</span><span class="p">,</span><span class="w"> </span><span class="mi">3200</span><span class="p">,</span><span class="w"> </span><span class="mi">3300</span><span class="p">,</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">                 </span><span class="mi">3700</span><span class="p">,</span><span class="w"> </span><span class="mi">4200</span><span class="p">,</span><span class="w"> </span><span class="mi">4600</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">5200</span><span class="p">,</span><span class="w"> </span><span class="mi">5400</span><span class="p">,</span><span class="w"> </span><span class="mi">5100</span><span class="p">,</span><span class="w"> </span><span class="mi">4500</span><span class="p">,</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">                 </span><span class="mi">4000</span><span class="p">,</span><span class="w"> </span><span class="mi">3800</span><span class="p">,</span><span class="w"> </span><span class="mi">3500</span><span class="p">,</span><span class="w"> </span><span class="mi">3200</span><span class="o">]</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="c1"># Calculate MFI and RSI for comparison</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="n">mfi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SQA</span><span class="o">::</span><span class="no">TAI</span><span class="o">.</span><span class="n">mfi</span><span class="p">(</span><span class="n">high_prices</span><span class="p">,</span><span class="w"> </span><span class="n">low_prices</span><span class="p">,</span><span class="w"> </span><span class="n">close_prices</span><span class="p">,</span><span class="w"> </span><span class="n">volume_data</span><span class="p">,</span><span class="w"> </span><span class="ss">period</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="n">rsi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">SQA</span><span class="o">::</span><span class="no">TAI</span><span class="o">.</span><span class="n">rsi</span><span class="p">(</span><span class="n">close_prices</span><span class="p">,</span><span class="w"> </span><span class="ss">period</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="c1"># Current values</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="n">current_price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_prices</span><span class="o">.</span><span class="n">last</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="n">current_mfi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mfi</span><span class="o">.</span><span class="n">last</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="n">previous_mfi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mfi</span><span class="o">[-</span><span class="mi">2</span><span class="o">]</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="n">current_rsi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rsi</span><span class="o">.</span><span class="n">last</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;=== MFI Trading Analysis ===&quot;</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Current Price: $</span><span class="si">#{</span><span class="n">current_price</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Current MFI: </span><span class="si">#{</span><span class="n">current_mfi</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Current RSI: </span><span class="si">#{</span><span class="n">current_rsi</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;MFI-RSI Spread: </span><span class="si">#{</span><span class="p">(</span><span class="n">current_mfi</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">current_rsi</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="nb">puts</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="c1"># Analyze volume strength</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current_mfi</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">current_rsi</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="w">  </span><span class="n">volume_assessment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Volume aligned with price&quot;</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a><span class="k">elsif</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">current_rsi</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a><span class="w">  </span><span class="n">volume_assessment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Strong volume support (bullish)&quot;</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a><span class="k">elsif</span><span class="w"> </span><span class="n">current_rsi</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a><span class="w">  </span><span class="n">volume_assessment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Weak volume support (bearish)&quot;</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a><span class="k">end</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Volume Assessment: </span><span class="si">#{</span><span class="n">volume_assessment</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a><span class="nb">puts</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a><span class="c1"># Trading signals</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a><span class="k">if</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">80</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;SIGNAL: MFI OVERBOUGHT&quot;</span>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Current MFI: </span><span class="si">#{</span><span class="n">current_mfi</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">previous_mfi</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;MFI turning down from overbought - SELL SIGNAL&quot;</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Entry: Short at $</span><span class="si">#{</span><span class="n">current_price</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Stop Loss: $</span><span class="si">#{</span><span class="p">(</span><span class="n">current_price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="mo">02</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> (2% above)&quot;</span>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Target: Previous support or MFI at 50&quot;</span>
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a><span class="w">  </span><span class="k">else</span>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;MFI still rising - wait for turn or exit longs&quot;</span>
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a><span class="w">  </span><span class="k">end</span>
</span><span id="__span-5-59"><a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a>
</span><span id="__span-5-60"><a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">current_rsi</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">70</span>
</span><span id="__span-5-61"><a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;âš ï¸  RSI not overbought - volume overheating, possible exhaustion&quot;</span>
</span><span id="__span-5-62"><a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a><span class="w">  </span><span class="k">end</span>
</span><span id="__span-5-63"><a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a>
</span><span id="__span-5-64"><a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a><span class="k">elsif</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-5-65"><a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;SIGNAL: MFI OVERSOLD&quot;</span>
</span><span id="__span-5-66"><a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Current MFI: </span><span class="si">#{</span><span class="n">current_mfi</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-67"><a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a>
</span><span id="__span-5-68"><a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">previous_mfi</span>
</span><span id="__span-5-69"><a id="__codelineno-5-69" name="__codelineno-5-69" href="#__codelineno-5-69"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;MFI turning up from oversold - BUY SIGNAL&quot;</span>
</span><span id="__span-5-70"><a id="__codelineno-5-70" name="__codelineno-5-70" href="#__codelineno-5-70"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Entry: Long at $</span><span class="si">#{</span><span class="n">current_price</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-71"><a id="__codelineno-5-71" name="__codelineno-5-71" href="#__codelineno-5-71"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Stop Loss: $</span><span class="si">#{</span><span class="p">(</span><span class="n">current_price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="mi">98</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2"> (2% below)&quot;</span>
</span><span id="__span-5-72"><a id="__codelineno-5-72" name="__codelineno-5-72" href="#__codelineno-5-72"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Target: Previous resistance or MFI at 50&quot;</span>
</span><span id="__span-5-73"><a id="__codelineno-5-73" name="__codelineno-5-73" href="#__codelineno-5-73"></a><span class="w">  </span><span class="k">else</span>
</span><span id="__span-5-74"><a id="__codelineno-5-74" name="__codelineno-5-74" href="#__codelineno-5-74"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;MFI still falling - wait for turn or avoid catching falling knife&quot;</span>
</span><span id="__span-5-75"><a id="__codelineno-5-75" name="__codelineno-5-75" href="#__codelineno-5-75"></a><span class="w">  </span><span class="k">end</span>
</span><span id="__span-5-76"><a id="__codelineno-5-76" name="__codelineno-5-76" href="#__codelineno-5-76"></a>
</span><span id="__span-5-77"><a id="__codelineno-5-77" name="__codelineno-5-77" href="#__codelineno-5-77"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">current_rsi</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">30</span>
</span><span id="__span-5-78"><a id="__codelineno-5-78" name="__codelineno-5-78" href="#__codelineno-5-78"></a><span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;âš ï¸  RSI not oversold - volume-driven selloff, potential reversal&quot;</span>
</span><span id="__span-5-79"><a id="__codelineno-5-79" name="__codelineno-5-79" href="#__codelineno-5-79"></a><span class="w">  </span><span class="k">end</span>
</span><span id="__span-5-80"><a id="__codelineno-5-80" name="__codelineno-5-80" href="#__codelineno-5-80"></a>
</span><span id="__span-5-81"><a id="__codelineno-5-81" name="__codelineno-5-81" href="#__codelineno-5-81"></a><span class="k">elsif</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">previous_mfi</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">50</span>
</span><span id="__span-5-82"><a id="__codelineno-5-82" name="__codelineno-5-82" href="#__codelineno-5-82"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;SIGNAL: MFI CROSSED ABOVE 50&quot;</span>
</span><span id="__span-5-83"><a id="__codelineno-5-83" name="__codelineno-5-83" href="#__codelineno-5-83"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Buying pressure taking control with volume&quot;</span>
</span><span id="__span-5-84"><a id="__codelineno-5-84" name="__codelineno-5-84" href="#__codelineno-5-84"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Consider entering long or adding to position&quot;</span>
</span><span id="__span-5-85"><a id="__codelineno-5-85" name="__codelineno-5-85" href="#__codelineno-5-85"></a>
</span><span id="__span-5-86"><a id="__codelineno-5-86" name="__codelineno-5-86" href="#__codelineno-5-86"></a><span class="k">elsif</span><span class="w"> </span><span class="n">current_mfi</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">previous_mfi</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">50</span>
</span><span id="__span-5-87"><a id="__codelineno-5-87" name="__codelineno-5-87" href="#__codelineno-5-87"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;SIGNAL: MFI CROSSED BELOW 50&quot;</span>
</span><span id="__span-5-88"><a id="__codelineno-5-88" name="__codelineno-5-88" href="#__codelineno-5-88"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Selling pressure taking control with volume&quot;</span>
</span><span id="__span-5-89"><a id="__codelineno-5-89" name="__codelineno-5-89" href="#__codelineno-5-89"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Consider exiting longs or entering short&quot;</span>
</span><span id="__span-5-90"><a id="__codelineno-5-90" name="__codelineno-5-90" href="#__codelineno-5-90"></a>
</span><span id="__span-5-91"><a id="__codelineno-5-91" name="__codelineno-5-91" href="#__codelineno-5-91"></a><span class="k">else</span>
</span><span id="__span-5-92"><a id="__codelineno-5-92" name="__codelineno-5-92" href="#__codelineno-5-92"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;NEUTRAL: MFI at </span><span class="si">#{</span><span class="n">current_mfi</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-5-93"><a id="__codelineno-5-93" name="__codelineno-5-93" href="#__codelineno-5-93"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;No clear signal - wait for extreme or crossover&quot;</span>
</span><span id="__span-5-94"><a id="__codelineno-5-94" name="__codelineno-5-94" href="#__codelineno-5-94"></a><span class="k">end</span>
</span><span id="__span-5-95"><a id="__codelineno-5-95" name="__codelineno-5-95" href="#__codelineno-5-95"></a>
</span><span id="__span-5-96"><a id="__codelineno-5-96" name="__codelineno-5-96" href="#__codelineno-5-96"></a><span class="c1"># Divergence check (simplified)</span>
</span><span id="__span-5-97"><a id="__codelineno-5-97" name="__codelineno-5-97" href="#__codelineno-5-97"></a><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Divergence Analysis ===&quot;</span>
</span><span id="__span-5-98"><a id="__codelineno-5-98" name="__codelineno-5-98" href="#__codelineno-5-98"></a><span class="n">price_high_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_prices</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">max</span>
</span><span id="__span-5-99"><a id="__codelineno-5-99" name="__codelineno-5-99" href="#__codelineno-5-99"></a><span class="n">price_high_previous</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_prices</span><span class="o">[-</span><span class="mi">10</span><span class="o">..-</span><span class="mi">6</span><span class="o">].</span><span class="n">max</span>
</span><span id="__span-5-100"><a id="__codelineno-5-100" name="__codelineno-5-100" href="#__codelineno-5-100"></a><span class="n">mfi_high_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mfi</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">compact</span><span class="o">.</span><span class="n">max</span>
</span><span id="__span-5-101"><a id="__codelineno-5-101" name="__codelineno-5-101" href="#__codelineno-5-101"></a><span class="n">mfi_high_previous</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mfi</span><span class="o">[-</span><span class="mi">10</span><span class="o">..-</span><span class="mi">6</span><span class="o">].</span><span class="n">compact</span><span class="o">.</span><span class="n">max</span>
</span><span id="__span-5-102"><a id="__codelineno-5-102" name="__codelineno-5-102" href="#__codelineno-5-102"></a>
</span><span id="__span-5-103"><a id="__codelineno-5-103" name="__codelineno-5-103" href="#__codelineno-5-103"></a><span class="k">if</span><span class="w"> </span><span class="n">price_high_recent</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">price_high_previous</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">mfi_high_recent</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">mfi_high_previous</span>
</span><span id="__span-5-104"><a id="__codelineno-5-104" name="__codelineno-5-104" href="#__codelineno-5-104"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;âš ï¸  BEARISH DIVERGENCE DETECTED&quot;</span>
</span><span id="__span-5-105"><a id="__codelineno-5-105" name="__codelineno-5-105" href="#__codelineno-5-105"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Price making higher highs, MFI making lower highs&quot;</span>
</span><span id="__span-5-106"><a id="__codelineno-5-106" name="__codelineno-5-106" href="#__codelineno-5-106"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Volume not supporting rally - potential reversal&quot;</span>
</span><span id="__span-5-107"><a id="__codelineno-5-107" name="__codelineno-5-107" href="#__codelineno-5-107"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Consider taking profits or preparing short position&quot;</span>
</span><span id="__span-5-108"><a id="__codelineno-5-108" name="__codelineno-5-108" href="#__codelineno-5-108"></a><span class="k">end</span>
</span><span id="__span-5-109"><a id="__codelineno-5-109" name="__codelineno-5-109" href="#__codelineno-5-109"></a>
</span><span id="__span-5-110"><a id="__codelineno-5-110" name="__codelineno-5-110" href="#__codelineno-5-110"></a><span class="n">price_low_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_prices</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">min</span>
</span><span id="__span-5-111"><a id="__codelineno-5-111" name="__codelineno-5-111" href="#__codelineno-5-111"></a><span class="n">price_low_previous</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_prices</span><span class="o">[-</span><span class="mi">10</span><span class="o">..-</span><span class="mi">6</span><span class="o">].</span><span class="n">min</span>
</span><span id="__span-5-112"><a id="__codelineno-5-112" name="__codelineno-5-112" href="#__codelineno-5-112"></a><span class="n">mfi_low_recent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mfi</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">compact</span><span class="o">.</span><span class="n">min</span>
</span><span id="__span-5-113"><a id="__codelineno-5-113" name="__codelineno-5-113" href="#__codelineno-5-113"></a><span class="n">mfi_low_previous</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mfi</span><span class="o">[-</span><span class="mi">10</span><span class="o">..-</span><span class="mi">6</span><span class="o">].</span><span class="n">compact</span><span class="o">.</span><span class="n">min</span>
</span><span id="__span-5-114"><a id="__codelineno-5-114" name="__codelineno-5-114" href="#__codelineno-5-114"></a>
</span><span id="__span-5-115"><a id="__codelineno-5-115" name="__codelineno-5-115" href="#__codelineno-5-115"></a><span class="k">if</span><span class="w"> </span><span class="n">price_low_recent</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">price_low_previous</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">mfi_low_recent</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">mfi_low_previous</span>
</span><span id="__span-5-116"><a id="__codelineno-5-116" name="__codelineno-5-116" href="#__codelineno-5-116"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;âš ï¸  BULLISH DIVERGENCE DETECTED&quot;</span>
</span><span id="__span-5-117"><a id="__codelineno-5-117" name="__codelineno-5-117" href="#__codelineno-5-117"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Price making lower lows, MFI making higher lows&quot;</span>
</span><span id="__span-5-118"><a id="__codelineno-5-118" name="__codelineno-5-118" href="#__codelineno-5-118"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Selling pressure weakening - potential reversal&quot;</span>
</span><span id="__span-5-119"><a id="__codelineno-5-119" name="__codelineno-5-119" href="#__codelineno-5-119"></a><span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Consider buying dips or preparing long position&quot;</span>
</span><span id="__span-5-120"><a id="__codelineno-5-120" name="__codelineno-5-120" href="#__codelineno-5-120"></a><span class="k">end</span>
</span></code></pre></div>
<h2 id="related-indicators">Related Indicators<a class="headerlink" href="#related-indicators" title="Permanent link">&para;</a></h2>
<h3 id="similar-indicators">Similar Indicators<a class="headerlink" href="#similar-indicators" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong><a href="../rsi/">RSI (Relative Strength Index)</a></strong>: Similar oscillator but without volume. RSI uses only price closes. MFI adds volume dimension. Use MFI when volume is reliable; RSI when volume data is questionable.</p>
</li>
<li>
<p><strong><a href="../cci/">CCI (Commodity Channel Index)</a></strong>: Another overbought/oversold oscillator. CCI is unbounded and measures deviation from average. MFI is bounded 0-100 and volume-weighted. MFI better for volume confirmation.</p>
</li>
</ul>
<h3 id="complementary-indicators">Complementary Indicators<a class="headerlink" href="#complementary-indicators" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong><a href="../../volume/obv/">OBV (On-Balance Volume)</a></strong>: Pure volume indicator. Use OBV to confirm MFI signals. When both show divergence, reversal probability is very high.</p>
</li>
<li>
<p><strong><a href="../../overlap/vwap/">VWAP (Volume-Weighted Average Price)</a></strong>: Shows average price weighted by volume. Combine with MFI: MFI oversold + price below VWAP = strong buy. MFI overbought + price above VWAP = strong sell.</p>
</li>
<li>
<p><strong><a href="../adx/">ADX (Average Directional Index)</a></strong>: Trend strength indicator. Use ADX to filter MFI signals. Take MFI signals only when ADX &gt; 25 (trending) for highest win rate.</p>
</li>
</ul>
<h3 id="indicator-family">Indicator Family<a class="headerlink" href="#indicator-family" title="Permanent link">&para;</a></h3>
<p>MFI belongs to the volume-weighted momentum oscillator family:
- <strong>MFI</strong>: Volume-weighted RSI, bounded 0-100
- <strong>RSI</strong>: Price-only momentum, bounded 0-100
- <strong>CMF (Chaikin Money Flow)</strong>: Volume-weighted but different calculation
- <strong>A/D Line</strong>: Cumulative volume-price indicator</p>
<p><strong>When to prefer MFI</strong>: When volume is reliable and meaningful. MFI is superior to RSI for identifying divergences because it captures volume changes. Essential for confirming price moves are volume-backed.</p>
<h2 id="advanced-topics">Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permanent link">&para;</a></h2>
<h3 id="multi-timeframe-analysis">Multi-Timeframe Analysis<a class="headerlink" href="#multi-timeframe-analysis" title="Permanent link">&para;</a></h3>
<p>Use MFI across multiple timeframes for comprehensive analysis:</p>
<ul>
<li><strong>Higher timeframe MFI</strong> (weekly/daily) identifies major volume-backed moves and reversals</li>
<li><strong>Lower timeframe MFI</strong> (4H/1H) provides precise entry timing</li>
<li>Strongest signals when all timeframes align (e.g., weekly MFI oversold + daily MFI oversold + 4H MFI turning up)</li>
</ul>
<p>Example: If daily MFI shows bearish divergence while 4H MFI crosses below 20, this represents high-probability short setup.</p>
<h3 id="market-regime-adaptation">Market Regime Adaptation<a class="headerlink" href="#market-regime-adaptation" title="Permanent link">&para;</a></h3>
<p>MFI behavior varies by market conditions:</p>
<ul>
<li>
<p><strong>High Volume Environments</strong> (earnings, news events): MFI can spike to extremes quickly. Use wider thresholds (85/15) to avoid false signals.</p>
</li>
<li>
<p><strong>Low Volume Environments</strong> (holidays, overnight): MFI becomes unreliable. Avoid trading MFI signals during low-volume periods.</p>
</li>
<li>
<p><strong>Trending Markets</strong>: MFI stays elevated in uptrends (40-80) or depressed in downtrends (20-60). Adjust thresholds based on trend.</p>
</li>
<li>
<p><strong>Accumulation/Distribution</strong>: MFI between 40-60 with low volatility often indicates accumulation (before uptrend) or distribution (before downtrend).</p>
</li>
</ul>
<h3 id="statistical-validation">Statistical Validation<a class="headerlink" href="#statistical-validation" title="Permanent link">&para;</a></h3>
<p>MFI reliability metrics:</p>
<ul>
<li>
<p><strong>Success Rate</strong>: MFI divergences have 65-75% success rate when combined with support/resistance, higher than RSI alone (55-65%).</p>
</li>
<li>
<p><strong>Volume Requirement</strong>: MFI signals most reliable when recent volume is at least 80% of average volume. Below that, reliability drops significantly.</p>
</li>
<li>
<p><strong>Optimal Thresholds</strong>: Studies show 80/20 optimal for most markets, but crypto and volatile stocks benefit from 85/15 thresholds.</p>
</li>
<li>
<p><strong>Divergence Lead Time</strong>: MFI divergences typically lead price reversals by 3-10 bars on the timeframe being analyzed.</p>
</li>
</ul>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li>Quong, Gene and Soudack, Avrum. "Money Flow Index" - Original MFI developers</li>
<li>Murphy, John J. "Technical Analysis of the Financial Markets" (1999) - MFI interpretation and volume analysis</li>
<li>Achelis, Steven B. "Technical Analysis from A to Z" (2000) - MFI practical applications</li>
<li><a href="https://www.tradingview.com/support/solutions/43000501986-money-flow-index-mfi/">TradingView: MFI Educational Guide</a></li>
<li><a href="https://school.stockcharts.com/doku.php?id=technical_indicators:money_flow_index_mfi">StockCharts: MFI Technical Analysis</a></li>
</ul>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../../">Momentum Indicators Overview</a></li>
<li><a href="../rsi/">RSI - Price-Only Momentum</a></li>
<li><a href="../../volume/">Volume Indicators</a></li>
<li><a href="../../../getting-started/basic-usage/">Basic Usage Guide</a></li>
<li><a href="../../../api-reference/">API Reference</a></li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Dewayne VanHoozer
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/madbomber/sqa-tai" target="_blank" rel="noopener" title="SQA TAI on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://rubygems.org/gems/sqa-tai" target="_blank" rel="noopener" title="SQA TAI on RubyGems" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M116.7 33.8c4.5-6.1 11.7-9.8 19.3-9.8h240c7.6 0 14.8 3.6 19.3 9.8l112 152c6.8 9.2 6.1 21.9-1.5 30.4l-232 256c-4.5 5-11 7.9-17.8 7.9s-13.2-2.9-17.8-7.9l-232-256c-7.7-8.5-8.3-21.2-1.5-30.4zm38.5 39.8c-3.3 2.5-4.2 7-2.1 10.5l57.4 95.7L63.3 192c-4.1.3-7.3 3.8-7.3 8s3.2 7.6 7.3 8l192 16h1.3l192-16c4.1-.3 7.3-3.8 7.3-8s-3.2-7.6-7.3-8l-147.2-12.3 57.4-95.6c2.1-3.5 1.2-8.1-2.1-10.5s-7.9-2-10.7 1l-90 97.6-90.1-97.6c-2.8-3-7.4-3.4-10.7-1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "search.share", "header.autohide", "content.code.copy", "content.code.annotate", "content.tabs.link", "content.tooltips", "content.action.edit", "content.action.view"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../../assets/js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>